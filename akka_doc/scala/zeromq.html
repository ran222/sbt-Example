


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ZeroMQ (Scala) &mdash; Akka Documentation</title>
    <link rel="stylesheet" href="../_static/style.css" tppabs="http://www.gtan.com/akka_doc/_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" tppabs="http://www.gtan.com/akka_doc/_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/prettify.css" tppabs="http://www.gtan.com/akka_doc/_static/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/base.css" tppabs="http://www.gtan.com/akka_doc/_static/base.css" type="text/css" />
    <link rel="stylesheet" href="../_static/docs.css" tppabs="http://www.gtan.com/akka_doc/_static/docs.css" type="text/css" />
    <link rel="stylesheet" href="../../../fonts.googleapis.com/css-family=Exo-300,400,600,700.css" tppabs="http://fonts.googleapis.com/css?family=Exo:300,400,600,700" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js" tppabs="http://www.gtan.com/akka_doc/_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js" tppabs="http://www.gtan.com/akka_doc/_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js" tppabs="http://www.gtan.com/akka_doc/_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/toc.js" tppabs="http://www.gtan.com/akka_doc/_static/toc.js"></script>
    <script type="text/javascript" src="../_static/prettify.js" tppabs="http://www.gtan.com/akka_doc/_static/prettify.js"></script>
    <script type="text/javascript" src="../_static/highlightCode.js" tppabs="http://www.gtan.com/akka_doc/_static/highlightCode.js"></script>
    <script type="text/javascript" src="../_static/effects.core.js" tppabs="http://www.gtan.com/akka_doc/_static/effects.core.js"></script>
    <script type="text/javascript" src="../_static/effects.highlight.js" tppabs="http://www.gtan.com/akka_doc/_static/effects.highlight.js"></script>
    <script type="text/javascript" src="../_static/scrollTo.js" tppabs="http://www.gtan.com/akka_doc/_static/scrollTo.js"></script>
    <script type="text/javascript" src="../_static/contentsFix.js" tppabs="http://www.gtan.com/akka_doc/_static/contentsFix.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Akka Documentation" href="../index.html" />
    <link rel="up" title="Scala API" href="index.html" />
    <link rel="next" title="Java API" href="../java/index.html" />
    <link rel="prev" title="Akka Extensions (Scala)" href="extending-akka.html" /> 
  </head>
  <body>
  <div class="navbar">
    <div class="navbar-inner">
      <div class="container">
        <div class="navbar-logo">
          <a href="javascript:if(confirm('http://akka.io/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://akka.io/'" tppabs="http://akka.io/"><img src="../_static/logo-small.png" tppabs="http://www.gtan.com/akka_doc/_static/logo-small.png" /></a>
        </div>    
        <ul class="nav">
          <li><a href="javascript:if(confirm('http://www.gtan.com/welfare04.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.gtan.com/welfare04.html'" tppabs="http://www.gtan.com/welfare04.html">è¿”å›å¹¿è°ˆå…¬ç›Š</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="main">
    <div class="container">
      <div class="page-title">ZeroMQ (Scala)</div><div class="pdf-link"><a href="javascript:if(confirm('http://www.gtan.com/akka_doc/Akka.pdf  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ·şÎñÆ÷±¨¸æ¸ÃÎÄ¼şÎ´ÕÒµ½¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.gtan.com/akka_doc/Akka.pdf'" tppabs="http://www.gtan.com/akka_doc/Akka.pdf"><img src="../_static/pdf-icon.png" tppabs="http://www.gtan.com/akka_doc/_static/pdf-icon.png" style="height: 40px;" /></a></div></div>
    <div class="main-container">
      <div class="container">
        <div class="row">
          <div class="span12">
            <ul class="breadcrumb">           
              <li>
                 <span class="divider">|</span> <a href="../java/index.html" tppabs="http://www.gtan.com/akka_doc/java/index.html">Java API</a> <span class="divider">Â»</span>
              </li>
              <li>
                <a href="../index.html" tppabs="http://www.gtan.com/akka_doc/index.html">ç›®å½•</a>
              </li>
              <li>
                <span class="divider">Â«</span> <a href="extending-akka.html" tppabs="http://www.gtan.com/akka_doc/scala/extending-akka.html">Akka æ‰©å±• (Scala)</a> <span class="divider">|</span>
              </li>
              <li>
                Version 2.0
              </li>
            </ul>         
          </div>
        </div>
        <div class="row">
          <div class="span9">
            
  <div class="section" id="zeromq-scala">
<span id="id1"></span><h1>ZeroMQ (Scala)</h1>
<p>Akkaæä¾›ä¸€ä¸ª ZeroMQ æ¨¡å—å¯¹ ZeroMQ è¿æ¥è¿›è¡ŒæŠ½è±¡ä»è€Œå…è®¸Akka actorä¹‹é—´åœ¨ZeroMQè¿æ¥ä¹‹ä¸Šè¿›è¡Œæ¶ˆæ¯äº¤äº’ã€‚è¿™äº›æ¶ˆæ¯å¯ä»¥æ˜¯ä¸“æœ‰æ ¼å¼æˆ–è€…ä½¿ç”¨Protobufæ¥å®šä¹‰ã€‚
    socket actorç¼ºçœå°±å…·æœ‰å®¹é”™æ€§ï¼Œå½“ä½ è°ƒç”¨newSocketæ–¹æ³•åˆ›å»ºæ–°çš„Socketæ—¶å®ƒä¼šæ­£ç¡®çš„å¯¹socketè¿›è¡Œé‡æ–°åˆå§‹åŒ–ã€‚.</p>
<p>ZeroMQ åœ¨å¤šçº¿ç¨‹æ–¹é¢æœ‰è¾ƒå¤§çš„å¼ºåˆ¶æ€§ï¼Œé…ç½®é€‰é¡¹ <cite>akka.zeromq.socket-dispatcher</cite> ä¸€å®šè¦è®¾ç½®æˆ PinnedDispatcher, è¿™æ˜¯å› ä¸ºå®é™…çš„ZeroMQ socketåªèƒ½åœ¨åˆ›å»ºå®ƒçš„çº¿ç¨‹ä¸­è®¿é—®ã€‚</p>
<p>Akkaçš„ZeroMQæ¨¡å—æ˜¯æŒ‰ç…§JZMQä¸­çš„APIç¼–å†™çš„ï¼ŒJZMQä½¿ç”¨JNIä¸æœ¬åœ°ZeroMQåº“é€šä¿¡ï¼Œä½†Akka ZeroMQæ¨¡å—æ²¡æœ‰ç”¨JZMQï¼Œç”¨çš„æ˜¯ZeroMQçš„Scalaç»‘å®šï¼Œä¸æœ¬åœ°ZeroMQåº“é€šä¿¡æ˜¯é€šè¿‡JNAå®Œæˆçš„. æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªæ¨¡å—æ‰€éœ€è¦çš„æœ¬åœ°åº“åªæœ‰æœ¬åœ° ZeroMQ åº“.
ä½¿ç”¨scalaåº“çš„å¥½å¤„æ˜¯ä½ ä¸éœ€è¦ç¼–è¯‘å’Œç®¡ç†æœ¬åœ°çš„ä¿¡èµ–ï¼Œå½“ç„¶è¿™ä¼šæœ‰ä¸€äº›æ€§èƒ½ä¸Šçš„æŸå¤±ã€‚Scalaç»‘å®šä¸JNIç»‘å®šæ˜¯å…¼å®¹çš„ï¼Œå¦‚æœä½ çš„ç¡®éœ€è¦è·å¾—æœ€å¥½çš„æ€§èƒ½ï¼Œç›´æ¥ç”¨åè€…æ›¿æ¢å‰è€…å³å¯ã€‚.</p>
<div class="section" id="connection">
<h2>è¿æ¥</h2>
<p>ZeroMQ æ”¯æŒå¤šç§è¿æ¥æ¨¡å¼, æ¯ä¸€ç§ç”¨æ¥æ»¡è¶³ä¸åŒçš„éœ€æ±‚ã€‚ ç›®å‰è¿™ä¸ªæ¨¡å—æ”¯æŒå‘å¸ƒï¼è®¢é˜…å‹è¿æ¥å’ŒåŸºäºRouterï¼Dealerçš„è¿æ¥. ä¸ºäº†å‘èµ·è¿æ¥æˆ–æ¥æ”¶è¿æ¥ï¼Œå¿…é¡»åˆ›å»ºä¸€ä¸ªsocket.
Socketéƒ½æ˜¯ç”¨ <tt class="docutils literal"><span class="pre">akka.zeromq.ZeroMQExtension</span></tt>åˆ›å»ºçš„, ä¾‹å¦‚:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">akka.zeromq.ZeroMQExtension</span>
<span class="k">val</span> <span class="n">pubSocket</span> <span class="k">=</span> <span class="nc">ZeroMQExtension</span><span class="o">(</span><span class="n">system</span><span class="o">).</span><span class="n">newSocket</span><span class="o">(</span><span class="nc">SocketType</span><span class="o">.</span><span class="nc">Pub</span><span class="o">,</span> <span class="nc">Bind</span><span class="o">(</span><span class="s">&quot;tcp://127.0.0.1:1234&quot;</span><span class="o">))</span>
</pre></div>
</div>
<p>æˆ–è€…é€šè¿‡å¯¼å…¥ <tt class="docutils literal"><span class="pre">akka.zeromq._</span></tt> åŒ…æ¥è·å¾—éšå¼çš„newSocketæ–¹æ³•.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">akka.zeromq._</span>
<span class="k">val</span> <span class="n">pubSocket2</span> <span class="k">=</span> <span class="n">system</span><span class="o">.</span><span class="n">newSocket</span><span class="o">(</span><span class="nc">SocketType</span><span class="o">.</span><span class="nc">Pub</span><span class="o">,</span> <span class="nc">Bind</span><span class="o">(</span><span class="s">&quot;tcp://127.0.0.1:1234&quot;</span><span class="o">))</span>
</pre></div>
</div>
<p>ä¸Šä¾‹å°†åœ¨æœ¬æœºçš„1234ç«¯å£åˆ›å»ºä¸€ä¸ªZeroMQå‘å¸ƒè€…socketã€‚.</p>
<p>ç±»ä¼¼çš„ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå¸¦æœ‰ç›‘å¬å™¨çš„è®¢é˜…socket, ä»å‘å¸ƒè€…è®¢é˜…æ‰€æœ‰çš„æ¶ˆæ¯:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">akka.zeromq._</span>
<span class="k">val</span> <span class="n">listener</span> <span class="k">=</span> <span class="n">system</span><span class="o">.</span><span class="n">actorOf</span><span class="o">(</span><span class="nc">Props</span><span class="o">(</span><span class="k">new</span> <span class="nc">Actor</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">receive</span><span class="k">:</span> <span class="kt">Receive</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nc">Connecting</span>    <span class="k">â‡’</span> <span class="c1">//...</span>
    <span class="k">case</span> <span class="n">m</span><span class="k">:</span> <span class="kt">ZMQMessage</span> <span class="k">â‡’</span> <span class="kt">//...</span>
    <span class="kt">case</span> <span class="k">_</span>             <span class="k">â‡’</span> <span class="kt">//...</span>
  <span class="o">}</span>
<span class="o">}))</span>
<span class="k">val</span> <span class="n">subSocket</span> <span class="k">=</span> <span class="n">system</span><span class="o">.</span><span class="n">newSocket</span><span class="o">(</span><span class="nc">SocketType</span><span class="o">.</span><span class="nc">Sub</span><span class="o">,</span> <span class="nc">Listener</span><span class="o">(</span><span class="n">listener</span><span class="o">),</span> <span class="nc">Connect</span><span class="o">(</span><span class="s">&quot;tcp://127.0.0.1:1234&quot;</span><span class="o">),</span> <span class="nc">SubscribeAll</span><span class="o">)</span>
</pre></div>
</div>
<p>ä¸‹é¢çš„ç« èŠ‚å°†æè¿°æ‰€æ”¯æŒçš„è¿æ¥æ–¹å¼ä»¥åŠå®ƒä»¬åœ¨Akkaç¯å¢ƒä¸­çš„ç”¨æ³•ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¦è¯¦ç»†äº†è§£å„ç§è¿æ¥æ–¹å¼ï¼Œè¯·å‚é˜… <a class="reference external" href="javascript:if(confirm('http://zguide.zeromq.org/page:all  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://zguide.zeromq.org/page:all'" tppabs="http://zguide.zeromq.org/page:all">ZeroMQ &#8211; The Guide</a>.</p>
<div class="section" id="publisher-subscriber-connection">
<h3>å‘å¸ƒ-è®¢é˜…å‹è¿æ¥</h3>
<p>åœ¨ä¸€ä¸ªå‘å¸ƒ-è®¢é˜…(pub-sub)å‹è¿æ¥ä¸­, ä¸€ä¸ªå‘å¸ƒè€…å¯ä»¥æœ‰å¤šä¸ªè®¢é˜…è€…. æ¯ä¸ªè®¢é˜…è€…è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªä¸»é¢˜
, å‘å¸ƒè€…å‘ä¸»é¢˜å‘å¸ƒæ¶ˆæ¯. è®¢é˜…è€…ä¹Ÿå¯ä»¥è®¢é˜…æ‰€æœ‰çš„ä¸»é¢˜. åœ¨ Akka ç¯å¢ƒä¸­, å¦‚æœè¦å‘å¹¶ä¸ç›´æ¥ä¸æŸactoræ‰“äº¤é“çš„actorå‘å¸ƒæ¶ˆæ¯ï¼Œéœ€è¦ä½¿ç”¨pub-sub è¿æ¥.</p>
<p>åœ¨ä½¿ç”¨ zeromq pub/sub æ—¶ä½ å¿…é¡»çŸ¥é“å®ƒéœ€è¦å¤šæ’­ - æ£€æŸ¥ä½ çš„äº‘ç¯å¢ƒ - æ‰èƒ½æ­£ç¡®å·¥ä½œï¼ŒåŒæ—¶å¯¹äº‹ä»¶ä¸»é¢˜çš„è¿‡æ»¤å‘ç”Ÿåœ¨å®¢æˆ·ç«¯, å› æ­¤æ‰€æœ‰çš„äº‹ä»¶éƒ½ä¼šå¹¿æ’­åˆ°æ‰€æœ‰çš„è®¢é˜…è€….</p>
<p>actorè®¢é˜…ä¸»é¢˜çš„è¿‡ç¨‹å¦‚ä¸‹:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">val</span> <span class="n">subTopicSocket</span> <span class="k">=</span> <span class="n">system</span><span class="o">.</span><span class="n">newSocket</span><span class="o">(</span><span class="nc">SocketType</span><span class="o">.</span><span class="nc">Sub</span><span class="o">,</span> <span class="nc">Listener</span><span class="o">(</span><span class="n">listener</span><span class="o">),</span> <span class="nc">Connect</span><span class="o">(</span><span class="s">&quot;tcp://127.0.0.1:1234&quot;</span><span class="o">),</span> <span class="nc">Subscribe</span><span class="o">(</span><span class="s">&quot;foo.bar&quot;</span><span class="o">))</span>
</pre></div>
</div>
<p>è®¢é˜…æ—¶ä½¿ç”¨å‰ç¼€åŒ¹é…ï¼Œæ‰€ä»¥å®ƒè®¢é˜…äº†æ‰€æœ‰ä»¥ <tt class="docutils literal"><span class="pre">foo.bar</span></tt> å¼€å¤´çš„ä¸»é¢˜. æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰æä¾›ä¸»é¢˜åç§°æˆ–ä½¿ç”¨äº†
<tt class="docutils literal"><span class="pre">SubscribeAll</span></tt> , actor å°†è®¢é˜…æ‰€æœ‰çš„ä¸»é¢˜.</p>
<p>è¦å–æ¶ˆè®¢é˜…:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">subTopicSocket</span> <span class="o">!</span> <span class="nc">Unsubscribe</span><span class="o">(</span><span class="s">&quot;foo.bar&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>è¦å‘ä¸»é¢˜å‘å¸ƒæ¶ˆæ¯ä½ å¿…é¡»ä½¿ç”¨ä¸¤ä¸ª Framesï¼Œç¬¬ä¸€ä¸ªFrameæ˜¯ä¸»é¢˜.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">pubSocket</span> <span class="o">!</span> <span class="nc">ZMQMessage</span><span class="o">(</span><span class="nc">Seq</span><span class="o">(</span><span class="nc">Frame</span><span class="o">(</span><span class="s">&quot;foo.bar&quot;</span><span class="o">),</span> <span class="nc">Frame</span><span class="o">(</span><span class="n">payload</span><span class="o">)))</span>
</pre></div>
</div>
<div class="section" id="pub-sub-in-action">
<h4>Pub-Subå®æˆ˜</h4>
<p>ä¸‹ä¾‹æ¼”ç¤ºäº†ä¸€ä¸ªæœ‰ä¸¤ä¸ªè®¢é˜…è€…çš„å‘å¸ƒè€….</p>
<p>å‘å¸ƒè€…ç›‘è§†å½“å‰çš„å †ä½¿ç”¨é‡å’Œç³»ç»Ÿè´Ÿè½½å¹¶å‘¨æœŸæ€§åœ¨<tt class="docutils literal"><span class="pre">&quot;health.heap&quot;</span></tt> ä¸»é¢˜ä¸Šå‘å¸ƒ <tt class="docutils literal"><span class="pre">Heap</span></tt> äº‹ä»¶ï¼Œ
åœ¨<tt class="docutils literal"><span class="pre">&quot;health.load&quot;</span></tt>ä¸»é¢˜ä¸Šå‘å¸ƒ  <tt class="docutils literal"><span class="pre">Load</span></tt> äº‹ä»¶.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">akka.zeromq._</span>
<span class="k">import</span> <span class="nn">akka.actor.Actor</span>
<span class="k">import</span> <span class="nn">akka.actor.Props</span>
<span class="k">import</span> <span class="nn">akka.actor.ActorLogging</span>
<span class="k">import</span> <span class="nn">akka.serialization.SerializationExtension</span>
<span class="k">import</span> <span class="nn">java.lang.management.ManagementFactory</span>

<span class="k">case</span> <span class="k">object</span> <span class="nc">Tick</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Heap</span><span class="o">(</span><span class="n">timestamp</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span> <span class="n">used</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span> <span class="n">max</span><span class="k">:</span> <span class="kt">Long</span><span class="o">)</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Load</span><span class="o">(</span><span class="n">timestamp</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span> <span class="n">loadAverage</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span>

<span class="k">class</span> <span class="nc">HealthProbe</span> <span class="k">extends</span> <span class="nc">Actor</span> <span class="o">{</span>

  <span class="k">val</span> <span class="n">pubSocket</span> <span class="k">=</span> <span class="n">context</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">newSocket</span><span class="o">(</span><span class="nc">SocketType</span><span class="o">.</span><span class="nc">Pub</span><span class="o">,</span> <span class="nc">Bind</span><span class="o">(</span><span class="s">&quot;tcp://127.0.0.1:1235&quot;</span><span class="o">))</span>
  <span class="k">val</span> <span class="n">memory</span> <span class="k">=</span> <span class="nc">ManagementFactory</span><span class="o">.</span><span class="n">getMemoryMXBean</span>
  <span class="k">val</span> <span class="n">os</span> <span class="k">=</span> <span class="nc">ManagementFactory</span><span class="o">.</span><span class="n">getOperatingSystemMXBean</span>
  <span class="k">val</span> <span class="n">ser</span> <span class="k">=</span> <span class="nc">SerializationExtension</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="n">system</span><span class="o">)</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">preStart</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">context</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">scheduler</span><span class="o">.</span><span class="n">schedule</span><span class="o">(</span><span class="mi">1</span> <span class="n">second</span><span class="o">,</span> <span class="mi">1</span> <span class="n">second</span><span class="o">,</span> <span class="n">self</span><span class="o">,</span> <span class="nc">Tick</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">postRestart</span><span class="o">(</span><span class="n">reason</span><span class="k">:</span> <span class="kt">Throwable</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// è¿˜è¦è°ƒç”¨preStartï¼Œä»…è°ƒåº¦ä¸€æ¬¡</span>
  <span class="o">}</span>

  <span class="k">def</span> <span class="n">receive</span><span class="k">:</span> <span class="kt">Receive</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">case</span> <span class="nc">Tick</span> <span class="k">â‡’</span>
      <span class="k">val</span> <span class="n">currentHeap</span> <span class="k">=</span> <span class="n">memory</span><span class="o">.</span><span class="n">getHeapMemoryUsage</span>
      <span class="k">val</span> <span class="n">timestamp</span> <span class="k">=</span> <span class="nc">System</span><span class="o">.</span><span class="n">currentTimeMillis</span>

      <span class="c1">// ç”¨ akka SerializationExtension è½¬æ¢æˆå­—èŠ‚</span>
      <span class="k">val</span> <span class="n">heapPayload</span> <span class="k">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">serialize</span><span class="o">(</span><span class="nc">Heap</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">currentHeap</span><span class="o">.</span><span class="n">getUsed</span><span class="o">,</span> <span class="n">currentHeap</span><span class="o">.</span><span class="n">getMax</span><span class="o">)).</span><span class="n">fold</span><span class="o">(</span><span class="k">throw</span> <span class="n">_</span><span class="o">,</span> <span class="n">identity</span><span class="o">)</span>
      <span class="c1">// ç¬¬ä¸€Frameæ˜¯è¯é¢˜ï¼Œç¬¬äºŒFrameæ˜¯æ¶ˆæ¯</span>
      <span class="n">pubSocket</span> <span class="o">!</span> <span class="nc">ZMQMessage</span><span class="o">(</span><span class="nc">Seq</span><span class="o">(</span><span class="nc">Frame</span><span class="o">(</span><span class="s">&quot;health.heap&quot;</span><span class="o">),</span> <span class="nc">Frame</span><span class="o">(</span><span class="n">heapPayload</span><span class="o">)))</span>

      <span class="c1">// ç”¨ akka SerializationExtension è½¬æ¢æˆå­—èŠ‚</span>
      <span class="k">val</span> <span class="n">loadPayload</span> <span class="k">=</span> <span class="n">ser</span><span class="o">.</span><span class="n">serialize</span><span class="o">(</span><span class="nc">Load</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getSystemLoadAverage</span><span class="o">)).</span><span class="n">fold</span><span class="o">(</span><span class="k">throw</span> <span class="n">_</span><span class="o">,</span> <span class="n">identity</span><span class="o">)</span>
      <span class="c1">// ç¬¬ä¸€Frameæ˜¯ä¸»é¢˜ï¼Œç¬¬äºŒFrameæ˜¯æ¶ˆæ¯</span>
      <span class="n">pubSocket</span> <span class="o">!</span> <span class="nc">ZMQMessage</span><span class="o">(</span><span class="nc">Seq</span><span class="o">(</span><span class="nc">Frame</span><span class="o">(</span><span class="s">&quot;health.load&quot;</span><span class="o">),</span> <span class="nc">Frame</span><span class="o">(</span><span class="n">loadPayload</span><span class="o">)))</span>
  <span class="o">}</span>
<span class="o">}</span>

  <span class="n">system</span><span class="o">.</span><span class="n">actorOf</span><span class="o">(</span><span class="nc">Props</span><span class="o">[</span><span class="kt">HealthProbe</span><span class="o">],</span> <span class="n">name</span> <span class="k">=</span> <span class="s">&quot;health&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªè®¢é˜…è€…æ¥è®°å½•æ—¥å¿—. å®ƒè®¢é˜…æ‰€æœ‰ä»¥ <tt class="docutils literal"><span class="pre">&quot;health&quot;</span></tt>å¼€å¤´çš„ä¸»é¢˜, i.e. åŒ…æ‹¬ <tt class="docutils literal"><span class="pre">Heap</span></tt> å’Œ
<tt class="docutils literal"><span class="pre">Load</span></tt> äº‹ä»¶.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Logger</span> <span class="k">extends</span> <span class="nc">Actor</span> <span class="k">with</span> <span class="nc">ActorLogging</span> <span class="o">{</span>

  <span class="n">context</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">newSocket</span><span class="o">(</span><span class="nc">SocketType</span><span class="o">.</span><span class="nc">Sub</span><span class="o">,</span> <span class="nc">Listener</span><span class="o">(</span><span class="n">self</span><span class="o">),</span> <span class="nc">Connect</span><span class="o">(</span><span class="s">&quot;tcp://127.0.0.1:1235&quot;</span><span class="o">),</span> <span class="nc">Subscribe</span><span class="o">(</span><span class="s">&quot;health&quot;</span><span class="o">))</span>
  <span class="k">val</span> <span class="n">ser</span> <span class="k">=</span> <span class="nc">SerializationExtension</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="n">system</span><span class="o">)</span>
  <span class="k">val</span> <span class="n">timestampFormat</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;HH:mm:ss.SSS&quot;</span><span class="o">)</span>

  <span class="k">def</span> <span class="n">receive</span> <span class="k">=</span> <span class="o">{</span>
    <span class="c1">// ç¬¬ä¸€Frameæ˜¯ä¸»é¢˜ï¼Œç¬¬äºŒFrameæ˜¯æ¶ˆæ¯</span>
    <span class="k">case</span> <span class="n">m</span><span class="k">:</span> <span class="kt">ZMQMessage</span> <span class="kt">if</span> <span class="kt">m.firstFrameAsString</span> <span class="o">=</span><span class="k">=</span> <span class="s">&quot;health.heap&quot;</span> <span class="k">â‡’</span>
      <span class="n">ser</span><span class="o">.</span><span class="n">deserialize</span><span class="o">(</span><span class="n">m</span><span class="o">.</span><span class="n">payload</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="n">classOf</span><span class="o">[</span><span class="kt">Heap</span><span class="o">])</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="nc">Heap</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">used</span><span class="o">,</span> <span class="n">max</span><span class="o">))</span> <span class="k">â‡’</span>
          <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="o">(</span><span class="s">&quot;Used heap {} bytes, at {}&quot;</span><span class="o">,</span> <span class="n">used</span><span class="o">,</span> <span class="n">timestampFormat</span><span class="o">.</span><span class="n">format</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">(</span><span class="n">timestamp</span><span class="o">)))</span>
        <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="k">â‡’</span> <span class="k">throw</span> <span class="n">e</span>
      <span class="o">}</span>

    <span class="k">case</span> <span class="n">m</span><span class="k">:</span> <span class="kt">ZMQMessage</span> <span class="kt">if</span> <span class="kt">m.firstFrameAsString</span> <span class="o">=</span><span class="k">=</span> <span class="s">&quot;health.load&quot;</span> <span class="k">â‡’</span>
      <span class="n">ser</span><span class="o">.</span><span class="n">deserialize</span><span class="o">(</span><span class="n">m</span><span class="o">.</span><span class="n">payload</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="n">classOf</span><span class="o">[</span><span class="kt">Load</span><span class="o">])</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="nc">Load</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">loadAverage</span><span class="o">))</span> <span class="k">â‡’</span>
          <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="o">(</span><span class="s">&quot;Load average {}, at {}&quot;</span><span class="o">,</span> <span class="n">loadAverage</span><span class="o">,</span> <span class="n">timestampFormat</span><span class="o">.</span><span class="n">format</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">(</span><span class="n">timestamp</span><span class="o">)))</span>
        <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="k">â‡’</span> <span class="k">throw</span> <span class="n">e</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

  <span class="n">system</span><span class="o">.</span><span class="n">actorOf</span><span class="o">(</span><span class="nc">Props</span><span class="o">[</span><span class="kt">Logger</span><span class="o">],</span> <span class="n">name</span> <span class="k">=</span> <span class="s">&quot;logger&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>å¦ä¸€ä¸ªè®¢é˜…è€…äº†è§£å †å†…å­˜ç”¨é‡ï¼Œå¦‚æœå †ä½¿ç”¨è¿‡é‡åˆ™æå‡ºè­¦å‘Š. å®ƒä»…è®¢é˜… <tt class="docutils literal"><span class="pre">Heap</span></tt> äº‹ä»¶.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">class</span> <span class="nc">HeapAlerter</span> <span class="k">extends</span> <span class="nc">Actor</span> <span class="k">with</span> <span class="nc">ActorLogging</span> <span class="o">{</span>

  <span class="n">context</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">newSocket</span><span class="o">(</span><span class="nc">SocketType</span><span class="o">.</span><span class="nc">Sub</span><span class="o">,</span> <span class="nc">Listener</span><span class="o">(</span><span class="n">self</span><span class="o">),</span> <span class="nc">Connect</span><span class="o">(</span><span class="s">&quot;tcp://127.0.0.1:1235&quot;</span><span class="o">),</span> <span class="nc">Subscribe</span><span class="o">(</span><span class="s">&quot;health.heap&quot;</span><span class="o">))</span>
  <span class="k">val</span> <span class="n">ser</span> <span class="k">=</span> <span class="nc">SerializationExtension</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="n">system</span><span class="o">)</span>
  <span class="k">var</span> <span class="n">count</span> <span class="k">=</span> <span class="mi">0</span>

  <span class="k">def</span> <span class="n">receive</span> <span class="k">=</span> <span class="o">{</span>
    <span class="c1">// ç¬¬ä¸€Frameæ˜¯ä¸»é¢˜ï¼Œç¬¬äºŒFrameæ˜¯æ¶ˆæ¯</span>
    <span class="k">case</span> <span class="n">m</span><span class="k">:</span> <span class="kt">ZMQMessage</span> <span class="kt">if</span> <span class="kt">m.firstFrameAsString</span> <span class="o">=</span><span class="k">=</span> <span class="s">&quot;health.heap&quot;</span> <span class="k">â‡’</span>
      <span class="n">ser</span><span class="o">.</span><span class="n">deserialize</span><span class="o">(</span><span class="n">m</span><span class="o">.</span><span class="n">payload</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="n">classOf</span><span class="o">[</span><span class="kt">Heap</span><span class="o">])</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="nc">Right</span><span class="o">(</span><span class="nc">Heap</span><span class="o">(</span><span class="n">timestamp</span><span class="o">,</span> <span class="n">used</span><span class="o">,</span> <span class="n">max</span><span class="o">))</span> <span class="k">â‡’</span>
          <span class="k">if</span> <span class="o">((</span><span class="n">used</span><span class="o">.</span><span class="n">toDouble</span> <span class="o">/</span> <span class="n">max</span><span class="o">)</span> <span class="o">&gt;</span> <span class="mf">0.9</span><span class="o">)</span> <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span> <span class="n">count</span> <span class="k">=</span> <span class="mi">0</span>
          <span class="k">if</span> <span class="o">(</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="o">)</span> <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="o">(</span><span class="s">&quot;Need more memory, using {} %&quot;</span><span class="o">,</span> <span class="o">(</span><span class="mf">100.0</span> <span class="o">*</span> <span class="n">used</span> <span class="o">/</span> <span class="n">max</span><span class="o">))</span>
        <span class="k">case</span> <span class="nc">Left</span><span class="o">(</span><span class="n">e</span><span class="o">)</span> <span class="k">â‡’</span> <span class="k">throw</span> <span class="n">e</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

  <span class="n">system</span><span class="o">.</span><span class="n">actorOf</span><span class="o">(</span><span class="nc">Props</span><span class="o">[</span><span class="kt">HeapAlerter</span><span class="o">],</span> <span class="n">name</span> <span class="k">=</span> <span class="s">&quot;alerter&quot;</span><span class="o">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="router-dealer-connection">
<h3>Router-Dealer Connection</h3>
<p>è™½ç„¶ Pub/Sub æ˜¯å¾ˆå¥½çš„è¿æ¥æ–¹å¼ä½†zeromqçš„çœŸæ­£ä¼˜åŠ¿åœ¨äºå®ƒè±¡ä¸€ä¸ªç”¨äºå¯é æ¶ˆæ¯é€šä¿¡çš„ &#8220;ä¹é«˜ç©å…·&#8221; .
    è€Œç”±äºæœ‰å¦‚æ­¤å¤šçš„é›†æˆæ–¹å¼ï¼Œå®ƒçš„å¤šè¯­è¨€æ”¯æŒæ˜¯æå¥½çš„.
å½“ä½ ä½¿ç”¨ZeroMQæ¥é›†æˆå¤šä¸ªç³»ç»Ÿæ—¶ä½ å¯èƒ½éœ€è¦åˆ›å»ºè‡ªå·±çš„ZeroMQæœºåˆ¶ã€‚è¿™æ—¶å°±è½®åˆ°router å’Œ dealer socket ç±»å‹å‘æŒ¥ä½œç”¨äº†.
ä½¿ç”¨è¿™äº›socketç±»å‹ä½ å¯ä»¥åˆ›å»ºè‡ªå·±çš„ä½¿ç”¨TCP/IPçš„å¯é pub sub brokerï¼Œå¹¶å®ç°å‘å¸ƒæ–¹çš„äº‹ä»¶è¿‡æ»¤.</p>
<p>è¦åˆ›å»ºé…ç½®äº†é«˜æ°´ä½çš„Router socket:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">val</span> <span class="n">highWatermarkSocket</span> <span class="k">=</span> <span class="n">system</span><span class="o">.</span><span class="n">newSocket</span><span class="o">(</span>
  <span class="nc">SocketType</span><span class="o">.</span><span class="nc">Router</span><span class="o">,</span>
  <span class="nc">Listener</span><span class="o">(</span><span class="n">listener</span><span class="o">),</span>
  <span class="nc">Bind</span><span class="o">(</span><span class="s">&quot;tcp://127.0.0.1:1234&quot;</span><span class="o">),</span>
  <span class="nc">HighWatermark</span><span class="o">(</span><span class="mi">50000</span><span class="o">))</span>
</pre></div>
</div>
<p>akka-zeromq æ¨¡å—æ”¯æŒå¤§éƒ¨åˆ†zeromq socketçš„é…ç½®é€‰é¡¹.</p>
</div>
<div class="section" id="push-pull-connection">
<h3>æ¨ï¼æ‹‰å‹è¿æ¥</h3>
<p>Akka ZeroMQ æ¨¡å—æ”¯æŒ <tt class="docutils literal"><span class="pre">æ¨-æ‹‰</span></tt> å‹è¿æ¥.</p>
<p>åˆ›å»º <tt class="docutils literal"><span class="pre">Push</span></tt> è¿æ¥:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">def</span> <span class="n">newPushSocket</span><span class="o">(</span><span class="n">socketParameters</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">SocketOption</span><span class="o">])</span><span class="k">:</span> <span class="kt">ActorRef</span>
</pre></div>
</div>
<p>åˆ›å»º <tt class="docutils literal"><span class="pre">Pull</span></tt> å‹è¿æ¥:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">def</span> <span class="n">newPullSocket</span><span class="o">(</span><span class="n">socketParameters</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">SocketOption</span><span class="o">])</span><span class="k">:</span> <span class="kt">ActorRef</span>
</pre></div>
</div>
<p>å¾ˆå¿«å°†æä¾›æœ‰æ›´å¤šçš„æ–‡æ¡£å’Œç¤ºä¾‹.</p>
</div>
<div class="section" id="rep-req-connection">
<h3>è¯·æ±‚ï¼å“åº”å‹è¿æ¥</h3>
<p>Akka ZeroMQ æ¨¡å—æ”¯æŒ <tt class="docutils literal"><span class="pre">è¯·æ±‚-å“åº”</span></tt> å‹è¿æ¥.</p>
<p>åˆ›å»º <tt class="docutils literal"><span class="pre">å“åº”</span></tt> è¿æ¥:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">def</span> <span class="n">newReqSocket</span><span class="o">(</span><span class="n">socketParameters</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">SocketOption</span><span class="o">])</span><span class="k">:</span> <span class="kt">ActorRef</span>
</pre></div>
</div>
<p>åˆ›å»º <tt class="docutils literal"><span class="pre">è¯·æ±‚</span></tt> è¿æ¥:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">def</span> <span class="n">newRepSocket</span><span class="o">(</span><span class="n">socketParameters</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">SocketOption</span><span class="o">])</span><span class="k">:</span> <span class="kt">ActorRef</span>
</pre></div>
</div>
<p>å¾ˆå¿«å°†æä¾›æ›´å¤šçš„æ–‡æ¡£å’Œç¤ºä¾‹.</p>
</div>
</div>
</div>


          </div>
          <div class="span3"><p class="contents-title">Contents</p>
              <div id="scroller-anchor">
                <div id="scroller">
                  <div id="toc"></div>
                </div>
              </div></div>
        </div>
      </div>
    </div>
  </div>
  <div class="footer">
  <div class="container">
    <ul>
      <li><h5>Akka</h5></li>
      <li><a href="javascript:if(confirm('http://akka.io/docs  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://akka.io/docs'" tppabs="http://akka.io/docs">Documentation</a></li>
      <li><a href="javascript:if(confirm('http://akka.io/downloads  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://akka.io/downloads'" tppabs="http://akka.io/downloads">Downloads</a></li>
      <li><a href="javascript:if(confirm('http://akka.io/news  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://akka.io/news'" tppabs="http://akka.io/news">News</a></li>
      <li><a href="javascript:if(confirm('http://letitcrash.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://letitcrash.com/'" tppabs="http://letitcrash.com/">Blog</a></li>
    </ul>
    <ul>
      <li><h5>Contribute</h5></li>
      <li><a href="javascript:if(confirm('http://github.com/akka/akka  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://github.com/akka/akka'" tppabs="http://github.com/akka/akka">Source Code</a></li>
      <li><a href="javascript:if(confirm('http://groups.google.com/group/akka-user  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://groups.google.com/group/akka-user'" tppabs="http://groups.google.com/group/akka-user">Mailing List</a></li>      
      <li><a href="javascript:if(confirm('http://www.assembla.com/spaces/akka/tickets  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.assembla.com/spaces/akka/tickets'" tppabs="http://www.assembla.com/spaces/akka/tickets">Report a Bug</a></li>      
    </ul>
    <ul>
      <li><h5>Company</h5></li>
      <li><a href="javascript:if(confirm('http://typesafe.com/products/typesafe-subscription  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://typesafe.com/products/typesafe-subscription'" tppabs="http://typesafe.com/products/typesafe-subscription">Commercial Support</a></li>
      <li><a href="javascript:if(confirm('http://akka.io/team  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://akka.io/team'" tppabs="http://akka.io/team">Team</a></li>
      <li><a href="mailto:info@typesafe.com">Contact</a></li>
    </ul>
    <ul>
      <li><img src="../_static/watermark.png" tppabs="http://www.gtan.com/akka_doc/_static/watermark.png" align="center"/></li>
    </ul>
  </div>
  <div class="container copyright">
    <p style="float: left;">
      Â© 2012 <a href="javascript:if(confirm('http://typesafe.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://typesafe.com/'" tppabs="http://typesafe.com/">Typesafe Inc.</a> <span class="license">Akka is Open Source and available under the Apache 2 License.</span>
    </p>
    <p style="float: right; font-size: 12px;">
      Last updated: Mar 08, 2012
    </p>          
  </div>
</div>
<script type="text/javascript">
  $('#toc').toc();
</script>
  

  </body>
</html>
<!-- Localized -->